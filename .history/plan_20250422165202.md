### ğŸš€ å¼€å‘è®¡åˆ’ä¸æ­¥éª¤

**ğŸ¯ æ€»ä½“ç›®æ ‡**: æ„å»ºä¸€ä¸ªæ¨¡å—åŒ–ã€å¯é…ç½®ã€æ”¯æŒå¾®æœåŠ¡éƒ¨ç½²çš„ FastAPI åç«¯ BO å¼•æ“ï¼Œå®ç° `front-back.md` ä¸­å®šä¹‰çš„ API æ¥å£ã€‚

**ğŸ”§ Phase 1: é¡¹ç›®åˆå§‹åŒ–ä¸åŸºç¡€æ¶æ„æ­å»º**

1.  **åˆ›å»ºé¡¹ç›®ç»“æ„**: ä¸¥æ ¼æŒ‰ç…§ä½ æä¾›çš„ç›®å½•ç»“æ„åˆ›å»ºæ–‡ä»¶å¤¹å’Œåˆå§‹æ–‡ä»¶ã€‚
    ```
    backend/
    â”œâ”€â”€ app/
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ main.py
    â”‚   â”œâ”€â”€ api/
    â”‚   â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”‚   â”œâ”€â”€ endpoints.py
    â”‚   â”‚   â””â”€â”€ schema.py
    â”‚   â””â”€â”€ core/
    â”‚       â”œâ”€â”€ __init__.py
    â”‚       â”œâ”€â”€ config.py
    â”‚       â””â”€â”€ logger.py
    â”œâ”€â”€ bo_engine/
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ parameter_space.py
    â”‚   â”œâ”€â”€ design_generator.py
    â”‚   â”œâ”€â”€ models/
    â”‚   â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”‚   â”œâ”€â”€ gpr.py
    â”‚   â”‚   â”œâ”€â”€ rfr.py
    â”‚   â”‚   â””â”€â”€ base_model.py
    â”‚   â”œâ”€â”€ acquisition.py
    â”‚   â”œâ”€â”€ optimizer.py
    â”‚   â””â”€â”€ utils.py
    â”œâ”€â”€ data/
    â”œâ”€â”€ notebooks/
    â”œâ”€â”€ tests/
    â”‚   â”œâ”€â”€ __init__.py
    â”œâ”€â”€ requirements.txt
    â”œâ”€â”€ Dockerfile
    â”œâ”€â”€ README.md
    â””â”€â”€ .env
    ```
2.  **é…ç½® FastAPI åº”ç”¨**: åœ¨ `app/main.py` ä¸­åˆå§‹åŒ– FastAPI å®ä¾‹ï¼Œè®¾ç½®åŸºæœ¬é…ç½®ï¼ˆå¦‚ CORSï¼‰ï¼Œå¼•å…¥æ—¥å¿— (`app/core/logger.py`) å’Œé…ç½®ç®¡ç† (`app/core/config.py`)ã€‚
3.  **å®šä¹‰åŸºç¡€ Pydantic æ¨¡å‹**: åœ¨ `app/api/schema.py` ä¸­å¼€å§‹å®šä¹‰æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ `Parameter`, `Objective`, `Constraint` ç­‰ã€‚
4.  **è®¾ç½® `requirements.txt`**: åˆ—å‡ºåŸºç¡€ä¾èµ–ï¼ˆFastAPI, Uvicorn, Pydantic, Scikit-learn, Numpy, Pandas, GPyOpt/BoTorch - æ ¹æ®é€‰å‹ç¡®å®šï¼‰ã€‚
5.  **ç¼–å†™ `Dockerfile`**: åˆ›å»ºåŸºç¡€çš„ Docker é…ç½®ï¼Œæ–¹ä¾¿åç»­å®¹å™¨åŒ–ã€‚
6.  **åˆå§‹åŒ–æ–‡æ¡£**: åˆ›å»º `README.md`ï¼Œ`@ProjectStructure.md`, `@Docs/Contributing.md`, `@Docs/DevEnvConfig.md`, `@Docs/Changelog.md`, `@FeatureMap.md`, `@Docs/FAQ.md`, `@Docs/TechDebt.md` ç­‰æ–‡æ¡£æ¡†æ¶ï¼Œå¹¶æ ¹æ®é¡¹ç›®åˆå§‹åŒ–æƒ…å†µå¡«å……åŸºç¡€å†…å®¹ã€‚

**ğŸ“ˆ Phase 2: å‚æ•°ç©ºé—´ä¸ç›®æ ‡å®šä¹‰ **

1.  **å®ç° `ParameterSpace` ç±»**: åœ¨ `bo_engine/parameter_space.py` ä¸­å®ç°å‚æ•°ç©ºé—´çš„ç®¡ç†ã€‚
    *   æ”¯æŒ `continuous`, `categorical`, `discrete` å˜é‡ç±»å‹ã€‚
    *   æ”¯æŒ `objectives` (maximize/minimize) å®šä¹‰ã€‚
    *   æ”¯æŒ `constraints` å®šä¹‰ï¼ˆåˆå§‹å¯ä»¥å…ˆæ”¯æŒç®€å•çº¦æŸï¼Œåç»­æ‰©å±•ï¼‰ã€‚
    *   å®ç°éªŒè¯é€»è¾‘ï¼Œç¡®ä¿ç©ºé—´å®šä¹‰æœ‰æ•ˆã€‚
    *   æ·»åŠ  JSDoc æ³¨é‡Šã€‚
2.  **å®Œå–„ Schema**: åœ¨ `app/api/schema.py` ä¸­å®šä¹‰ä¸å‚æ•°ç©ºé—´ç›¸å…³çš„ Pydantic è¾“å…¥/è¾“å‡ºæ¨¡å‹ (`ParameterSpaceCreate`, `ParameterSpaceRead` ç­‰)ã€‚
3.  **å®ç° API ç«¯ç‚¹ (éƒ¨åˆ†)**: åœ¨ `app/api/endpoints.py` ä¸­å®ç° `/api/parameter-space` (POST, GET, PUT) æ¥å£çš„åŸºæœ¬æ¡†æ¶ï¼Œå¤„ç†è¯·æ±‚å’Œå“åº”ï¼Œè°ƒç”¨ `ParameterSpace` ç±»ã€‚
4.  **ç¼–å†™å•å…ƒæµ‹è¯•**: åœ¨ `tests/test_parameter_space.py` ä¸­æ·»åŠ æµ‹è¯•ç”¨ä¾‹ã€‚
5.  **æ›´æ–°æ–‡æ¡£**: æ›´æ–° `@Docs/Feature/parameter-space_rules.md`ï¼Œè®°å½•è®¾è®¡ç»†èŠ‚ï¼›æ›´æ–° `@ProjectStructure.md` (å¦‚æœç»“æ„æœ‰å¾®è°ƒ)ï¼›æ›´æ–° `@Docs/DevLog/...` è®°å½•è¿›åº¦ã€‚

**ğŸ§ª Phase 3: åˆå§‹å®éªŒè®¾è®¡ **

1.  **å®ç° `DesignGenerator`**: åœ¨ `bo_engine/design_generator.py` ä¸­å®ç°ã€‚
    *   è‡³å°‘æ”¯æŒ LHS (Latin Hypercube Sampling)ã€‚
    *   è¾“å…¥ `ParameterSpace` å¯¹è±¡å’Œæ ·æœ¬æ•°é‡ã€‚
    *   è¾“å‡ºåˆå§‹è®¾è®¡ç‚¹åˆ—è¡¨ (ä¾‹å¦‚ Pandas DataFrame æˆ– JSON å…¼å®¹æ ¼å¼)ã€‚
    *   æ·»åŠ  JSDoc æ³¨é‡Šã€‚
2.  **å®ç° API ç«¯ç‚¹**: åœ¨ `app/api/endpoints.py` ä¸­å®ç° `/api/designs/{task_id}/initial` (GET) æ¥å£ã€‚
3.  **ç¼–å†™å•å…ƒæµ‹è¯•**: æ·»åŠ  `tests/test_design_generator.py`ã€‚
4.  **æ›´æ–°æ–‡æ¡£**: æ›´æ–° `@Docs/DevLog/...`ã€‚

**ğŸ§  Phase 4: æ ¸å¿ƒ BO å¼•æ“ (ä»£ç†æ¨¡å‹ã€é‡‡é›†å‡½æ•°ã€ä¼˜åŒ–å™¨) **

1.  **å®ç°åŸºç¡€æ¨¡å‹æ¥å£**: åœ¨ `bo_engine/models/base_model.py` ä¸­å®šä¹‰ç»Ÿä¸€çš„æ¨¡å‹æ¥å£ (`fit`, `predict`, `predict_with_uncertainty`)ã€‚
2.  **å®ç°ä»£ç†æ¨¡å‹**: åœ¨ `bo_engine/models/` ä¸‹å®ç°è‡³å°‘ä¸€ç§ä»£ç†æ¨¡å‹ï¼Œä¾‹å¦‚ `gpr.py` (ä½¿ç”¨ scikit-learn æˆ– GPy/BoTorch)ã€‚ç¡®ä¿éµå¾ª `base_model.py` çš„æ¥å£ã€‚
3.  **å®ç°é‡‡é›†å‡½æ•°**: åœ¨ `bo_engine/acquisition.py` ä¸­å®ç°è‡³å°‘ä¸€ç§é‡‡é›†å‡½æ•°ï¼Œä¾‹å¦‚ EI (Expected Improvement)ã€‚
4.  **å®ç° `Optimizer` ç±»**: åœ¨ `bo_engine/optimizer.py` ä¸­å®ç°æ ¸å¿ƒä¼˜åŒ–é€»è¾‘ã€‚
    *   ç®¡ç†ä¼˜åŒ–ä»»åŠ¡çŠ¶æ€ï¼ˆå·²è§‚æµ‹æ•°æ®ã€æ¨¡å‹ã€å½“å‰è¿­ä»£ç­‰ï¼‰ã€‚
    *   `fit_model()`: ä½¿ç”¨å·²æœ‰æ•°æ®è®­ç»ƒä»£ç†æ¨¡å‹ã€‚
    *   `suggest_next()`: ä½¿ç”¨é‡‡é›†å‡½æ•°åœ¨å‚æ•°ç©ºé—´ä¸­å¯»æ‰¾ä¸‹ä¸€ä¸ªæœ€ä½³é‡‡æ ·ç‚¹ã€‚
    *   `add_observation()`: æ·»åŠ æ–°çš„å®éªŒç»“æœã€‚
    *   è€ƒè™‘çŠ¶æ€çš„ä¿å­˜ä¸åŠ è½½ï¼ˆä¸ºæŒä¹…åŒ–åšå‡†å¤‡ï¼‰ã€‚
    *   æ·»åŠ  JSDoc æ³¨é‡Šã€‚
5.  **å®Œå–„ Schema**: åœ¨ `app/api/schema.py` ä¸­å®šä¹‰ä¸å®éªŒç»“æœ (`ResultCreate`, `ResultRead`)ã€æ¨èè®¾è®¡ç‚¹ (`DesignSuggest`)ã€æ¨¡å‹é¢„æµ‹ (`PredictionRequest`, `PredictionResponse`) ç­‰ç›¸å…³çš„æ¨¡å‹ã€‚
6.  **å®ç° API ç«¯ç‚¹**: åœ¨ `app/api/endpoints.py` ä¸­å®ç°ï¼š
    *   `/api/results/{task_id}` (POST): æ¥æ”¶å®éªŒç»“æœï¼Œè°ƒç”¨ `optimizer.add_observation()`ã€‚
    *   `/api/designs/{task_id}/next` (GET): è°ƒç”¨ `optimizer.suggest_next()` è¿”å›æ¨èç‚¹ã€‚
    *   `/api/predict/{task_id}` (POST): è°ƒç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹ã€‚
    *   `/api/model/{task_id}/performance` (GET): è·å–æ¨¡å‹æ€§èƒ½æŒ‡æ ‡ï¼ˆåˆå§‹å¯è¿”å›ç®€å•æŒ‡æ ‡ï¼‰ã€‚
    *   `/api/pareto/{task_id}` (GET): ï¼ˆå¦‚æœå®ç°å¤šç›®æ ‡ï¼‰è·å– Pareto å‰æ²¿ã€‚
    *   `/api/uncertainty/{task_id}` (GET): è·å–ä¸ç¡®å®šæ€§åˆ†æï¼ˆåˆå§‹å¯ç®€åŒ–ï¼‰ã€‚
7.  **ç¼–å†™å•å…ƒæµ‹è¯•**: æ·»åŠ  `tests/test_models.py`, `tests/test_acquisition.py`, `tests/test_optimizer.py`ã€‚


**ğŸ“¦ Phase 5: ä»»åŠ¡ç®¡ç†ä¸ç­–ç•¥é…ç½®**

1.  **å®ç°ä»»åŠ¡çŠ¶æ€ç®¡ç†**:
    *   è®¾è®¡å¦‚ä½•åœ¨å†…å­˜æˆ–ç®€å•æŒä¹…åŒ–ï¼ˆä¾‹å¦‚å­—å…¸æˆ–æ–‡ä»¶ï¼‰ä¸­å­˜å‚¨å’Œç®¡ç†å¤šä¸ªä¼˜åŒ–ä»»åŠ¡ (`task_id` å¯¹åº” `Optimizer` å®ä¾‹ï¼‰ã€‚
    *   å®ç° `front-back.md` ä¸­å»ºè®®çš„ä»»åŠ¡æŒä¹…åŒ–ç»“æ„ (`/data/tasks/{task_id}/...`)ï¼Œä¿å­˜/åŠ è½½ä»»åŠ¡çŠ¶æ€ã€å‚æ•°ç©ºé—´ã€ç­–ç•¥ã€å†å²æ•°æ®ç­‰ã€‚
2.  **å®Œå–„ Schema**: å®šä¹‰ä¸ç­–ç•¥é…ç½® (`StrategyCreate`, `StrategyRead`)ã€ä»»åŠ¡çŠ¶æ€ (`TaskStatus`, `TaskList`) ç›¸å…³çš„æ¨¡å‹ã€‚
3.  **å®ç° API ç«¯ç‚¹**: åœ¨ `app/api/endpoints.py` ä¸­å®ç°ï¼š
    *   `/api/strategy/{task_id}` (POST, GET): é…ç½®å’Œè·å–ä¼˜åŒ–ç­–ç•¥ã€‚
    *   `/api/tasks` (GET): è·å–ä»»åŠ¡åˆ—è¡¨ã€‚
    *   `/api/tasks/{task_id}/status` (GET): è·å–ä»»åŠ¡çŠ¶æ€ã€‚
    *   `/api/tasks/{task_id}/export` (GET): å¯¼å‡ºä»»åŠ¡æ•°æ®ã€‚
    *   `/api/tasks/{task_id}/restart` (POST): å®ç°ä»»åŠ¡é‡å¯é€»è¾‘ã€‚
    *   `/api/diagnostics/{task_id}` (GET): å®ç°åŸºæœ¬çš„è¯Šæ–­æ¥å£ã€‚
4.  **ç¼–å†™é›†æˆæµ‹è¯•**: æµ‹è¯•æ¶‰åŠå¤šä¸ªç»„ä»¶äº¤äº’çš„åœºæ™¯ã€‚
5.  **æ›´æ–°æ–‡æ¡£**: æ›´æ–° `@Docs/Feature/task-management_rules.md`, `@Docs/Feature/strategy-config_rules.md`ï¼›æ›´æ–° `@Docs/DevLog/...`ã€‚

**ğŸ”Œ Phase 6: å®æ—¶é€šçŸ¥ä¸é«˜çº§åŠŸèƒ½ **

1.  **å®ç° WebSocket**: ä½¿ç”¨ FastAPI çš„ WebSocket æ”¯æŒå®ç° `/ws/tasks/{task_id}`ï¼Œæ¨é€è¿›åº¦ã€æ–°è®¾è®¡ç‚¹ç­‰æ›´æ–°ã€‚
2.  **æ”¯æŒå¼‚æ­¥è®¡ç®—**: å¯¹äºè€—æ—¶æ“ä½œï¼ˆå¦‚å¤æ‚æ¨¡å‹è®­ç»ƒã€æ‰¹é‡é‡‡é›†å‡½æ•°ä¼˜åŒ–ï¼‰ï¼Œé›†æˆ Celery + Redis/RabbitMQ å®ç°å¼‚æ­¥ä»»åŠ¡å¤„ç†ï¼Œå¹¶é€šè¿‡ WebSocket è¿”å›ç»“æœã€‚
3.  **å®ç°å¤šç›®æ ‡ä¼˜åŒ–**: æ‰©å±•æ¨¡å‹ã€é‡‡é›†å‡½æ•°å’Œä¼˜åŒ–å™¨ä»¥æ”¯æŒå¤šç›®æ ‡ã€‚
4.  **å®ç°æ‰¹é‡ BO**: æ‰©å±•é‡‡é›†å‡½æ•°å’Œä¼˜åŒ–å™¨ä»¥æ”¯æŒä¸€æ¬¡æ¨èå¤šä¸ªç‚¹ã€‚
5.  **æ›´æ–°æ–‡æ¡£**: è®°å½•ç›¸å…³å®ç°ç»†èŠ‚ã€‚

**âœ… Phase 7: æµ‹è¯•ã€éƒ¨ç½²ä¸æ–‡æ¡£å®Œå–„ (è´¯ç©¿å§‹ç»ˆ)**

1.  **å®Œå–„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•**: ç¡®ä¿ä»£ç è¦†ç›–ç‡å’ŒåŠŸèƒ½æ­£ç¡®æ€§ã€‚
2.  **å‹åŠ›æµ‹è¯• (å¯é€‰)**: å¯¹ API è¿›è¡Œå‹åŠ›æµ‹è¯•ã€‚
3.  **ç»†åŒ– `Dockerfile`**: ä¼˜åŒ– Docker é•œåƒå¤§å°å’Œæ„å»ºé€Ÿåº¦ã€‚
4.  **ç¼–å†™éƒ¨ç½²æ–‡æ¡£**: åœ¨ `README.md` æˆ–å•ç‹¬æ–‡æ¡£ä¸­è¯´æ˜å¦‚ä½•éƒ¨ç½²ã€‚
5.  **å…¨é¢å®¡æŸ¥å’Œæ›´æ–°æ‰€æœ‰æ–‡æ¡£**: ç¡®ä¿ `@Docs` ä¸‹çš„æ‰€æœ‰æ–‡æ¡£éƒ½æ˜¯æœ€æ–°çš„ï¼ŒåŒ…æ‹¬ `README.md`, `@FeatureMap.md`, `@Docs/Changelog.md` ç­‰ã€‚

---

**âœ¨ åç»­è¿­ä»£**:

*   é›†æˆæ›´å¤šä»£ç†æ¨¡å‹å’Œé‡‡é›†å‡½æ•°ã€‚
*   ä¼˜åŒ–æ€§èƒ½ã€‚
*   å¢å¼ºé”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•ã€‚
*   æ ¹æ®ç”¨æˆ·åé¦ˆè¿›è¡Œè°ƒæ•´ã€‚

---

**è¿›åº¦è·Ÿè¸ª**: æˆ‘ä¼šåœ¨æ¯æ¬¡å®Œæˆä¸»è¦æ­¥éª¤æˆ–ç‰¹æ€§åï¼Œä½¿ç”¨ emoji (å¦‚ ğŸ› ï¸, âœ¨, âœ…, ğŸ“) æ›´æ–°å¼€å‘æ—¥å¿— (`@Docs/DevLog/YYYY-MM-DD_progress.md`)ã€‚

æ”¹è¿›å»ºè®®
å¤šç›®æ ‡ä¼˜åŒ–æ”¯æŒï¼šå¢å¼ºç³»ç»Ÿå¯¹å¤šç›®æ ‡ä¼˜åŒ–é—®é¢˜çš„æ”¯æŒ
å¹¶è¡Œè¯„ä¼°ï¼šæ”¯æŒå¹¶è¡Œè¯„ä¼°å¤šä¸ªè®¾è®¡ç‚¹
å¯è§†åŒ–åŠŸèƒ½ï¼šæä¾›ä¼˜åŒ–è¿‡ç¨‹å’Œç»“æœçš„å¯è§†åŒ–å·¥å…·
æ›´å¤šé‡‡é›†å‡½æ•°ï¼šå®ç°æ›´å¤šç±»å‹çš„é‡‡é›†å‡½æ•°
é«˜çº§ä»£ç†æ¨¡å‹ï¼šé›†æˆæ›´å¤šç±»å‹çš„ä»£ç†æ¨¡å‹
è‡ªé€‚åº”é‡‡æ ·ï¼šæ ¹æ®å½“å‰ä¼˜åŒ–çŠ¶æ€è‡ªåŠ¨è°ƒæ•´é‡‡æ ·ç­–ç•¥
